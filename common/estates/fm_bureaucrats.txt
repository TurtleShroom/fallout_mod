estate_bureaucrats =
{
	icon = 1
	
	color = { 200 0 50 }
	
	# Is estate kept in control of province on conquest?
	keep_on_conquest = no
	
	# They want to control at least this % of the country's non-overseas development, if # of home provinecs is above set amount
	min_territory = 0
	min_provinces_to_want_territory = 5
    
	# If true, country will get estate
	trigger = {	
        
	}
	
	# If true, province can be granted to estate
	province_trigger = {
		always = yes
	}	
	
	# Min autonomy in estate provinces
	min_autonomy = 25
	
	# Estate cancels out the following multiplicative local autonomy effects:
	autonomy_does_not_affect = local_tax_modifier

	country_modifier_happy = {
		global_tax_modifier = 0.2 
		advisor_cost = -0.1
	}
	country_modifier_neutral = {
		global_tax_modifier = 0.15
	}	
	country_modifier_angry = {
		global_tax_modifier = -0.2 
		advisor_cost = 0.1
	}
	
	# These do not scale, but only applied in provinces owned by the estate
	province_modifier_happy = {
		local_tax_modifier = 0.5
	}
	province_modifier_neutral = {
		local_tax_modifier = 0.25
	}	
	province_modifier_angry = {
		local_unrest = 5
	}		
	
	# Influence modifiers
	base_influence = 20
	influence_modifier = {
		desc = EST_VAL_NCR_INFLUENCE
		trigger = {
			technology_group = tech_ncr
		}	
		influence = 10
	}		

	influence_modifier = {
		desc = EST_VAL_OTHER_ESTATE_IN_POWER
		trigger = {
			OR = {
				has_disaster = estate_caravanners_disaster
				has_disaster = estate_settlers_disaster
                has_disaster = estate_officers_disaster
                has_disaster = estate_scientists_disaster
                has_disaster = estate_faith_disaster
			}
		}	
		influence = -40
	}
	
	
	# Loyalty modifiers
	loyalty_modifier = {
		desc = EST_VAL_OTHER_ESTATE_IN_POWER_LOY
		trigger = {
			OR = {
				has_disaster = estate_caravanners_disaster
				has_disaster = estate_settlers_disaster
                has_disaster = estate_officers_disaster
                has_disaster = estate_scientists_disaster
                has_disaster = estate_faith_disaster
			}
		}
		loyalty = -20
	}

	loyalty_modifier = {
		desc = EST_VAL_VERY_LEGITIMATE
		trigger = {
            OR = {
                AND = {
                    government = monarchy
                    legitimacy = 95
                }
                AND = {
                    government = republic
                    republican_tradition = 95
                }
                AND = {
                    government = theocracy
                    devotion = 95
                }
            }
		}
		loyalty = 10
	}
	loyalty_modifier = {
		desc = EST_VAL_LEGITIMATE
        trigger = {
            OR = {
                AND = {
                    government = monarchy
                    legitimacy = 70
                    NOT = { legitimacy = 95 }
                }
                AND = {
                    government = republic
                    republican_tradition = 70
                    NOT = { republican_tradition = 95 }
                }
                AND = {
                    government = theocracy
                    devotion = 70
                    NOT = { devotion = 95 }
                }
            }
		}
		loyalty = 5
	}
	loyalty_modifier = {
		desc = EST_VAL_NOT_LEGITIMATE
        trigger = {
            OR = {
                AND = {
                    government = monarchy
                    legitimacy = 25
                    NOT = { legitimacy = 50 }
                }
                AND = {
                    government = republic
                    republican_tradition = 25
                    NOT = { republican_tradition = 50 }
                }
                AND = {
                    government = theocracy
                    devotion = 25
                    NOT = { devotion = 50 }
                }
            }
		}
		loyalty = -5
	}
	loyalty_modifier = {
		desc = EST_VAL_ILLEGITIMATE
        trigger = {
            OR = {
                AND = {
                    government = monarchy
                    NOT = { legitimacy = 25 }
                }
                AND = {
                    government = republic
                    NOT = { republican_tradition = 25 }
                }
                AND = {
                    government = theocracy
                    NOT = { devotion = 25 }
                }
            }
		}
		loyalty = -10
	}

	#Alternative naming of estates
	custom_name = {
		desc = estate_scribes
		trigger = {
			technology_group = tech_bos
		}
	}
    
    custom_name = {
		desc = estate_patrician
		trigger = {
			tag = CAE
		}
	}

    custom_name = {
		desc = estate_senators
		trigger = {
			tag = NCR
		}
	}
    
    custom_name = {
		desc = estate_overseers
		trigger = {
			OR = {
                technology_group = tech_tribal
                technology_group = tech_raider
                technology_group = tech_super_mutant
                technology_group = tech_great_khan
                technology_group = tech_swampfolk
                technology_group = tech_rodent
                technology_group = tech_children
                technology_group = tech_triggermen
                technology_group = tech_the_kings
            }
		}
	}

	# For province assignment
	ai_grant_province = {
		factor = 1	
		modifier = {
			factor = 0.5
			development = 20
		}
		modifier = {
			factor = 2
			NOT = { development = 10 }
		}				
		modifier = {
			factor = 0.75
			has_owner_culture = yes
		}
		modifier = {
			factor = 0.75
			province_trade_power = 5
		}			
		modifier = {
			factor = 0.75
			province_trade_power = 10
		}			
	}	
	
    # Demand Assistance
    # years: 20
    # trigger:
    #   loyalty: 30
    #   influence: 25
    # effect: 
    #   add_adm_power (more with higher influence)
    interaction = {
		name = "CULTIVATE_RECOGNITION"
		icon = 2
		
		years_between_use = 20
		
		trigger = {
			estate_loyalty = {
				estate = estate_bureaucrats
				loyalty = 30
			}	
			estate_influence = {
				estate = estate_bureaucrats
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used CULTIVATE_RECOGNITION bureaucrats estate action" }
			if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_bureaucrats
                            influence = 25
                        }
                    }
                    estate_influence = {
                        estate = estate_bureaucrats
                        influence = 0
                    }
                }
                
                add_prestige = 5
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_bureaucrats
                            influence = 40
                        }
                    }
                    estate_influence = {
                        estate = estate_bureaucrats
                        influence = 25
                    }
                }
                
                add_prestige = 10
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_bureaucrats
                            influence = 60
                        }
                    }
                    estate_influence = {
                        estate = estate_bureaucrats
                        influence = 40
                    }
                }
                
                add_prestige = 15
            }
            if = {
                limit = {
                    estate_influence = {
                        estate = estate_bureaucrats
                        influence = 60
                    }
                }
                
                add_prestige = 20
            }
            add_estate_loyalty = {
				estate = estate_bureaucrats
				loyalty = -20
			}
		}
		
		ai_will_do = {
			factor = 1
            
			modifier = {
				factor = 0
				NOT = {
                    estate_loyalty = {
                        estate = estate_bureaucrats
                        loyalty = 60
                    }			
                }
			}			
		}
	}
    
    # Make Investment
    # years: 10
    # trigger:
    #   always
    # effect:
    #   lose years of income -0.1
    #   add 15 loyalty
    interaction = {
		name = "MAKE_INVESTMENT"
		icon = 6
		
		years_between_use = 10
		
		potential = {
			NOT = { has_disaster = estate_bureaucrats_disaster }
		}
		
		trigger = {
			always = yes
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used MAKE_INVESTMENT bureaucrats estate action" }
			add_years_of_income = -0.25
			add_estate_loyalty = {
				estate = estate_bureaucrats
				loyalty = 15
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { years_of_income = 2 }				
			}
			modifier = {
				factor = 0
				estate_loyalty = {
					estate = estate_bureaucrats
					loyalty = 40
				}
			}			
		}		
	}
    
    # Seek Support
    # years: 20
    # trigger:
    #   always
    # effect:
    #   lose prestige/government points
    #   add 10 influence
    #   add 15 loyalty
    interaction = {
		name = "SEEK_SUPPORT"
		icon = 7
		
		years_between_use = 20
		
		trigger = {
			always = yes
		}
		
		effect = {  
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used SEEK_SUPPORT bureaucrats estate action" }
			add_prestige = -5
			add_legitimacy = -5
			add_republican_tradition = -3
			add_devotion = -3

			add_estate_influence_modifier = {
				estate = estate_bureaucrats
				desc = EST_VAL_SOUGHT_SUPPORT
				influence = 10
				duration = 7300
			}
			add_estate_loyalty = {
				estate = estate_bureaucrats
				loyalty = 15
			}
		}
	
		ai_will_do = {
			factor = 1
            
			modifier = {
				factor = 0
				NOT = {
                    estate_loyalty = {
                        estate = estate_bureaucrats
                        loyalty = 30
                    }			
                }
			}
			modifier = {
				factor = 0
				estate_influence = {
					estate = estate_bureaucrats
					influence = 40
				}						
			}			
		}
	}
    
    # Oust Undesirables
    # years: 20
    # trigger:
    #   always
    # effect:
    #   -20 influence
    #   -15 loyalty
    interaction = {
		name = "OUST_UNDESIRABLES"
		icon = 10
		
		years_between_use = 20
		
		trigger = {
			always = yes
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used OUST_UNDESIRABLES bureaucrats estate action" }
			add_estate_influence_modifier = {
				estate = estate_bureaucrats
				desc = EST_VAL_OUSTED_UNDESIRABLES
				influence = -20
				duration = 7300
			}
			add_estate_loyalty = {
				estate = estate_bureaucrats
				loyalty = -15
			}
		}
	
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0
				NOT = {
                    estate_influence = {
                        estate = estate_bureaucrats
                        influence = 80
                    }	
                }
			}			
		}
	}
    
    # Recruit Banker
    # years: 30
    # trigger:
    #   influence: 40
    # effect:
    #   + advisor
    #   15 influence
    interaction = {
		name = "RECRUIT_BANKER"
		icon = 25
		
		years_between_use = 30
		
		potential = {
			NOT = { has_disaster = estate_bureaucrats_disaster }
		}
		
		trigger = {
			estate_influence = {
				estate = estate_bureaucrats
				influence = 40
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used RECRUIT_BANKER bureaucrats estate action" }
			if = {
				limit = {
					monthly_income = 25
				}
				define_advisor = {
					type = master_of_mint
					skill = 3
					discount = yes
				}
			}
			if = {
				limit = { NOT = { monthly_income = 25 } }
				define_advisor = {
					type = master_of_mint
					skill = 2
					discount = yes
				}
			}
			add_estate_influence_modifier = {
				estate = estate_bureaucrats
				desc = EST_VAL_RECRUITED_ADVISOR
				influence = 15
				duration = 10950
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {   
                factor = 0
                estate_influence = {
                    estate = estate_bureaucrats
                    influence = 40
                }
            }
		}
	}
    
    # Recruit Tax Collector
    # years: 30
    # trigger:
    #   influence: 40
    # effect:
    #   + advisor
    #   15 influence
    interaction = {
		name = "RECRUIT_TAX_COLLECTOR"
		icon = 25
		
		years_between_use = 30
		
		potential = {
			NOT = { has_disaster = estate_bureaucrats_disaster }
		}
		
		trigger = {
			estate_influence = {
				estate = estate_bureaucrats
				influence = 40
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used RECRUIT_TAX_COLLECTOR bureaucrats estate action" }
			if = {
				limit = {
					monthly_income = 25
				}
				define_advisor = {
					type = treasurer
					skill = 3
					discount = yes
				}
			}
			if = {
				limit = { NOT = { monthly_income = 25 } }
				define_advisor = {
					type = treasurer
					skill = 2
					discount = yes
				}
			}
			add_estate_influence_modifier = {
				estate = estate_bureaucrats
				desc = EST_VAL_RECRUITED_ADVISOR
				influence = 15
				duration = 10950
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {   
                factor = 0
                estate_influence = {
                    estate = estate_bureaucrats
                    influence = 40
                }
            }
		}
	}
    
    # Purge Bureaucracy
    # years: 20
    # trigger:
    #   corruption > 0
    # effect:
    #   add_corruption = -1
    #   -20 loyalty
    interaction = {
		name = "PURGE_BUREAUCRACY"
		icon = 34
		
		years_between_use = 30
		
		potential = {
            corruption = 0
			NOT = { has_disaster = estate_bureaucrats_disaster }
		}
		
		trigger = {
			always = yes
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used PURGE_BUREAUCRACY bureaucrats estate action" }
            add_corruption = -1
            
			add_estate_loyalty = {
				estate = estate_bureaucrats
				loyalty = -20
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {
                factor = 0
                
                NOT = { corruption = 5 }
            }
            
            modifier = {
                factor = 0
                
                NOT = {
                    estate_loyalty = {
                        estate = estate_bureaucrats
                        loyalty = 60
                    }
                }
            }
		}
	}
    
    # Codify Laws
    # years: 20
    #   always
    # effect:
    #   +1 stability
    #   15 influence
    interaction = {
		name = "CODIFY_LAWS"
		icon = 1
		
		years_between_use = 20
		
		potential = {
            NOT = { stability = 3 }
			NOT = { has_disaster = estate_bureaucrats_disaster }
		}
		
		trigger = {
			estate_loyalty = {
				estate = estate_bureaucrats
				loyalty = 30
			}	
			estate_influence = {
				estate = estate_bureaucrats
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used CODIFY_LAWS bureaucrats estate action" }
            add_stability = 1
            
			add_estate_influence_modifier = {
				estate = estate_bureaucrats
				desc = EST_VAL_CODIFIED_LAWS
				influence = 15
				duration = 7300
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {
                factor = 0
                
                stability = 0
            }
            
            modifier = {
				factor = 0
				estate_influence = {
                    estate = estate_bureaucrats
                    influence = 40
                }
			}	
		}
	}
    
    # Sway Opponents
    # years: 20
    #   loyalty: 30
    #   influence: 40
    # effect:
    #   legitimacy: 15
    #   republican_tradition: 15
    #   devotion: 15
    #   5 influence
    interaction = {
		name = "SWAY_OPPOSITION"
		icon = 27
		
		years_between_use = 20
		
		potential = {
			NOT = { has_disaster = estate_bureaucrats_disaster }
		}
		
		trigger = {
			estate_loyalty = {
				estate = estate_bureaucrats
				loyalty = 30
			}	
			estate_influence = {
				estate = estate_bureaucrats
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used SWAY_OPPOSITION bureaucrats estate action" }
            add_legitimacy = 5
            add_republican_tradition = 5
            add_devotion = 5
            
			add_estate_influence_modifier = {
				estate = estate_bureaucrats
				desc = EST_VAL_SWAYED_OPPOSITION
				influence = 5
				duration = 7300
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {
				factor = 0
				estate_influence = {
                    estate = estate_bureaucrats
                    influence = 50
                }	
			}	
		}
	}
}