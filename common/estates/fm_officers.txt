estate_officers =
{
	icon = 3
	
	color = { 33 50 100 }
	
	# Is estate kept in control of province on conquest?
	keep_on_conquest = no
	
	# They want to control at least this % of the country's non-overseas development, if # of home provinecs is above set amount
	min_territory = 0
	min_provinces_to_want_territory = 5
    
	# If true, country will get estate
	trigger = {	
        
	}
	
	# If true, province can be granted to estate
	province_trigger = {
		always = yes
	}	
	
	# Min autonomy in estate provinces
	min_autonomy = 25
	
	# Estate cancels out the following multiplicative local autonomy effects:
	autonomy_does_not_affect = local_manpower_modifier

	country_modifier_happy = {
		global_manpower_modifier = 0.25
		free_leader_pool = 2
	}
	country_modifier_neutral = {
		global_manpower_modifier = 0.1
        free_leader_pool = 1
	}	
	country_modifier_angry = {
		global_manpower_modifier = -0.25
		free_leader_pool = -1
	}
	
	# These do not scale, but only applied in provinces owned by the estate
	province_modifier_happy = {
		local_manpower_modifier = 0.5
	}
	province_modifier_neutral = {
		local_manpower_modifier = 0.25
	}	
	province_modifier_angry = {
		local_unrest = 5
	}		
	
	# Influence modifiers
	base_influence = 20
	influence_modifier = {
		desc = EST_VAL_LEGION_INFLUENCE
		trigger = {
			technology_group = tech_caesars_legion
		}	
		influence = 10
	}		

	influence_modifier = {
		desc = EST_VAL_OTHER_ESTATE_IN_POWER
		trigger = {
			OR = {
				has_disaster = estate_bureaucrats_disaster
				has_disaster = estate_settlers_disaster
                has_disaster = estate_caravanners_disaster
                has_disaster = estate_scientists_disaster
                has_disaster = estate_faith_disaster
			}
		}	
		influence = -40
	}
	
	
	# Loyalty modifiers
	loyalty_modifier = {
		desc = EST_VAL_OTHER_ESTATE_IN_POWER_LOY
		trigger = {
			OR = {
				has_disaster = estate_bureaucrats_disaster
				has_disaster = estate_settlers_disaster
                has_disaster = estate_caravanners_disaster
                has_disaster = estate_scientists_disaster
                has_disaster = estate_faith_disaster
			}
		}
		loyalty = -20
	}

	loyalty_modifier = {
		desc = EST_VAL_VERY_HIGH_TRADITION
		trigger = {
            army_tradition = 75
		}
		loyalty = 10
	}
	loyalty_modifier = {
		desc = EST_VAL_HIGH_TRADITION
        trigger = {
            army_tradition = 50
		}
		loyalty = 5
	}
	loyalty_modifier = {
		desc = EST_VAL_LOW_TRADITION
        trigger = {
            NOT = { army_tradition = 20 }
		}
		loyalty = -5
	}
	loyalty_modifier = {
		desc = EST_VAL_VERY_LOW_TRADITION
        trigger = {
            NOT = { army_tradition = 5 }
		}
		loyalty = -10
	}

	#Alternative naming of estates
	custom_name = {
		desc = estate_knights
		trigger = {
			technology_group = tech_bos
		}
	}
    
    custom_name = {
		desc = estate_legionarii
		trigger = {
			tag = CAE
		}
	}
    
    custom_name = {
		desc = estate_lieutenants
		trigger = {
			OR = {
                technology_group = tech_tribal
                technology_group = tech_raider
                technology_group = tech_super_mutant
                technology_group = tech_great_khan
                technology_group = tech_swampfolk
                technology_group = tech_rodent
                technology_group = tech_children
                technology_group = tech_triggermen
                technology_group = tech_the_kings
            }
		}
	}
    
	# For province assignment
	ai_grant_province = {
		factor = 1	
		modifier = {
			factor = 0.5
			development = 20
		}
		modifier = {
			factor = 2
			NOT = { development = 10 }
		}				
		modifier = {
			factor = 0.75
			has_owner_culture = yes
		}
		modifier = {
			factor = 0.75
			province_trade_power = 5
		}			
		modifier = {
			factor = 0.75
			province_trade_power = 10
		}			
	}	
	
    # Demand Assistance
    # years: 20
    # trigger:
    #   loyalty: 30
    #   influence: 25
    # effect: 
    #   add_adm_power (more with higher influence)
    interaction = {
		name = "DEMAND_ASSISTANCE"
		icon = 2
		
		years_between_use = 20
		
		trigger = {
			estate_loyalty = {
				estate = estate_officers
				loyalty = 30
			}	
			estate_influence = {
				estate = estate_officers
				influence = 25
			}
		}
		
		effect = {
			if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 25
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 0
                    }
                }
                
                add_mil_power = 50
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 40
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 25
                    }
                }
                
                add_mil_power = 100
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 60
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 40
                    }
                }
                
                add_mil_power = 150
            }
            if = {
                limit = {
                    estate_influence = {
                        estate = estate_officers
                        influence = 60
                    }
                }
                
                add_mil_power = 200
            }
            add_estate_loyalty = {
				estate = estate_officers
				loyalty = -20
			}
		}
		
		ai_will_do = {
			factor = 1
            
			modifier = {
				factor = 0
				NOT = {
                    estate_loyalty = {
                        estate = estate_officers
                        loyalty = 60
                    }			
                }
			}			
		}
	}
    
    # Make Investment
    # years: 10
    # trigger:
    #   always
    # effect:
    #   lose years of income -0.1
    #   add 15 loyalty
    interaction = {
		name = "MAKE_INVESTMENT"
		icon = 6
		
		years_between_use = 10
		
		potential = {
			NOT = { has_disaster = estate_officers_disaster }
		}
		
		trigger = {
			always = yes
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used MAKE_INVESTMENT officers estate action" }
			add_years_of_income = -0.25
			add_estate_loyalty = {
				estate = estate_officers
				loyalty = 15
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { years_of_income = 2 }				
			}
			modifier = {
				factor = 0
				estate_loyalty = {
					estate = estate_officers
					loyalty = 40
				}
			}			
		}		
	}
    
    # Seek Support
    # years: 20
    # trigger:
    #   always
    # effect:
    #   lose prestige/government points
    #   add 10 influence
    #   add 15 loyalty
    interaction = {
		name = "SEEK_SUPPORT"
		icon = 7
		
		years_between_use = 20
		
		trigger = {
			always = yes
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used SEEK_SUPPORT officers estate action" }
			add_prestige = -5
			add_legitimacy = -5
			add_republican_tradition = -3
			add_devotion = -3

			add_estate_influence_modifier = {
				estate = estate_officers
				desc = EST_VAL_SOUGHT_SUPPORT
				influence = 10
				duration = 7300
			}
			add_estate_loyalty = {
				estate = estate_officers
				loyalty = 15
			}
		}
	
		ai_will_do = {
			factor = 1
            
			modifier = {
				factor = 0
				NOT = {
                    estate_loyalty = {
                        estate = estate_officers
                        loyalty = 30
                    }			
                }
			}
			modifier = {
				factor = 0
				estate_influence = {
					estate = estate_officers
					influence = 40
				}						
			}			
		}
	}
    
    # Oust Undesirables
    # years: 20
    # trigger:
    #   always
    # effect:
    #   -20 influence
    #   -15 loyalty
    interaction = {
		name = "OUST_UNDESIRABLES"
		icon = 10
		
		years_between_use = 20
		
		trigger = {
			always = yes
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used OUST_UNDESIRABLES officers estate action" }
			add_estate_influence_modifier = {
				estate = estate_officers
				desc = EST_VAL_OUSTED_UNDESIRABLES
				influence = -20
				duration = 7300
			}
			add_estate_loyalty = {
				estate = estate_officers
				loyalty = -15
			}
		}
	
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0
				NOT = {
                    estate_influence = {
                        estate = estate_officers
                        influence = 80
                    }	
                }
			}			
		}
	}
    
    # Recruit Commandant
    # years: 30
    # trigger:
    #   influence: 40
    # effect:
    #   + advisor
    #   15 influence
    interaction = {
		name = "RECRUIT_COMMANDANT"
		icon = 25
		
		years_between_use = 30
		
		potential = {
			NOT = { has_disaster = estate_officers_disaster }
		}
		
		trigger = {
			estate_influence = {
				estate = estate_officers
				influence = 40
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used RECRUIT_COMMANDANT officers estate action" }
			if = {
				limit = {
					monthly_income = 25
				}
				define_advisor = {
					type = commandant
					skill = 3
					discount = yes
				}
			}
			if = {
				limit = { NOT = { monthly_income = 25 } }
				define_advisor = {
					type = commandant
					skill = 2
					discount = yes
				}
			}
			add_estate_influence_modifier = {
				estate = estate_officers
				desc = EST_VAL_RECRUITED_ADVISOR
				influence = 15
				duration = 10950
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {   
                factor = 0
                estate_influence = {
                    estate = estate_officers
                    influence = 40
                }
            }
		}
	}
    
    # Recruit Quartermaster
    # years: 30
    # trigger:
    #   influence: 40
    # effect:
    #   + advisor
    #   15 influence
    interaction = {
		name = "RECRUIT_QUARTERMASTER"
		icon = 25
		
		years_between_use = 30
		
		potential = {
			NOT = { has_disaster = estate_officers_disaster }
		}
		
		trigger = {
			estate_influence = {
				estate = estate_officers
				influence = 40
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used RECRUIT_QUARTERMASTER officers estate action" }
			if = {
				limit = {
					monthly_income = 25
				}
				define_advisor = {
					type = quartermaster
					skill = 3
					discount = yes
				}
			}
			if = {
				limit = { NOT = { monthly_income = 25 } }
				define_advisor = {
					type = quartermaster
					skill = 2
					discount = yes
				}
			}
			add_estate_influence_modifier = {
				estate = estate_officers
				desc = EST_VAL_RECRUITED_ADVISOR
				influence = 15
				duration = 10950
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {   
                factor = 0
                estate_influence = {
                    estate = estate_officers
                    influence = 40
                }
            }
		}
	}
    
    # Recruit General
    # years: 10
    # trigger:
    #   loyalty: 30
    #   influence: 40
    # effect:
    #   + general
    #   20 influence
    interaction = {
		name = "TRAIN_GENERAL"
		icon = 30
		
		years_between_use = 20
		
		trigger = {
			estate_loyalty = {
				estate = estate_officers
				loyalty = 30
			}	
			estate_influence = {
				estate = estate_officers
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used TRAIN_GENERAL officers estate action" }
			if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 25
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 0
                    }
                }
                
                create_general = 20
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 40
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 25
                    }
                }
                
                create_general = 40
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 60
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 40
                    }
                }
                
                create_general = 60
            }
            if = {
                limit = {
                    estate_influence = {
                        estate = estate_officers
                        influence = 60
                    }
                }
                
                create_general = 80
            }

            add_estate_influence_modifier = {
				estate = estate_officers
				desc = EST_VAL_RECRUITED_LEADER
				influence = 20
				duration = 7300
			}
		}
		
		ai_will_do = {
			factor = 0
		}
	}
    
    # Recruit Admiral
    # years: 10
    # trigger:
    #   loyalty: 30
    #   influence: 40
    # effect:
    #   + general
    #   20 influence
    interaction = {
		name = "TRAIN_ADMIRAL"
		icon = 5
		
		years_between_use = 20
		
		trigger = {
			estate_loyalty = {
				estate = estate_officers
				loyalty = 30
			}	
			estate_influence = {
				estate = estate_officers
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used TRAIN_ADMIRAL officers estate action" }
			if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 25
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 0
                    }
                }
                
                create_admiral = 20
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 40
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 25
                    }
                }
                
                create_admiral = 40
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 60
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 40
                    }
                }
                
                create_admiral = 60
            }
            if = {
                limit = {
                    estate_influence = {
                        estate = estate_officers
                        influence = 60
                    }
                }
                
                create_admiral = 80
            }

            add_estate_influence_modifier = {
				estate = estate_officers
				desc = EST_VAL_RECRUITED_LEADER
				influence = 20
				duration = 7300
			}
		}
		
		ai_will_do = {
			factor = 0
		}
	}
    
    # Establish Military Centre
    # years: 20
    # trigger:
    #   loyalty: 30
    #   influence: 40
    # effect:
    #   +20 army tradition
    #   15 influence
    interaction = {
		name = "ESTABLISH_MILITARY_CENTRE"
		icon = 117
		
		years_between_use = 20
		
		trigger = {
			estate_loyalty = {
				estate = estate_officers
				loyalty = 30
			}	
			estate_influence = {
				estate = estate_officers
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used ESTABLISH_MILITARY_CENTRE officers estate action" }
			if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 25
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 0
                    }
                }
                
                add_army_tradition = 5
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 40
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 25
                    }
                }
                
                add_army_tradition = 10
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 60
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 40
                    }
                }
                
                add_army_tradition = 15
            }
            if = {
                limit = {
                    estate_influence = {
                        estate = estate_officers
                        influence = 60
                    }
                }
                
                add_army_tradition = 20
            }

            add_estate_influence_modifier = {
				estate = estate_officers
				desc = EST_VAL_ESTABLISHED_MILITARY_CENTRE
				influence = 15
				duration = 7300
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {   
                factor = 0
                estate_influence = {
                    estate = estate_officers
                    influence = 40
                }
            }
            
            modifier = {
                factor = 0
                army_tradition = 50
            }
		}
	}
    
    # Establish Naval Centre
    # years: 20
    # trigger:
    #   loyalty: 30
    #   influence: 40
    # effect:
    #   +20 navy tradition
    #   15 influence
    interaction = {
		name = "ESTABLISH_NAVAL_CENTRE"
		icon = 116
		
		years_between_use = 20
		
		trigger = {
			estate_loyalty = {
				estate = estate_officers
				loyalty = 30
			}	
			estate_influence = {
				estate = estate_officers
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used ESTABLISH_NAVAL_CENTRE officers estate action" }
			if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 25
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 0
                    }
                }
                
                add_navy_tradition = 5
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 40
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 25
                    }
                }
                
                add_navy_tradition = 10
            }
            if = {
                limit = {
                    NOT = {
                        estate_influence = {
                            estate = estate_officers
                            influence = 60
                        }
                    }
                    estate_influence = {
                        estate = estate_officers
                        influence = 40
                    }
                }
                
                add_navy_tradition = 15
            }
            if = {
                limit = {
                    estate_influence = {
                        estate = estate_officers
                        influence = 60
                    }
                }
                
                add_navy_tradition = 20
            }

            add_estate_influence_modifier = {
				estate = estate_officers
				desc = EST_VAL_ESTABLISHED_NAVAL_CENTRE
				influence = 15
				duration = 7300
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {   
                factor = 0
                estate_influence = {
                    estate = estate_officers
                    influence = 40
                }
            }
            
            modifier = {
                factor = 0
                navy_tradition = 50
            }
		}
	}
    
    interaction = {
		name = "MUSTER_SOLDIERS"
		icon = 12
		
		years_between_use = 10
		
		trigger = {
			estate_loyalty = {
				estate = estate_officers
				loyalty = 30
			}	
			estate_influence = {
				estate = estate_officers
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used MUSTER_SOLDIERS officers estate action" }
            add_yearly_manpower = 1
            
            add_estate_loyalty = {
				estate = estate_officers
				loyalty = -10
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {   
                factor = 0
                NOT = {
                    estate_loyalty = {
                        estate = estate_officers
                        loyalty = 50
                    }	
                }
            }
            
            modifier = {
                factor = 0
                manpower_percentage = 0.75
            }
		}
	}
    
    interaction = {
		name = "MUSTER_VETERAN_UNITS"
		icon = 12
		
		years_between_use = 5
		
        potential = {
            has_dlc = "Third Rome"
            NOT = { tag = CAE }
            NOT = { tag = NCR }
        }
        
		trigger = {
			estate_loyalty = {
				estate = estate_officers
				loyalty = 50
			}	
			estate_influence = {
				estate = estate_officers
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used MUSTER_VETERAN_UNITS officers estate action" }
            custom_tooltip = VETERAN_RECRUITMENT
            hidden_effect = {
                capital_scope = {
                    ROOT = {
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                    }
                }
            }
            
            add_estate_loyalty = {
				estate = estate_officers
				loyalty = -10
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {   
                factor = 0
                NOT = {
                    estate_loyalty = {
                        estate = estate_officers
                        loyalty = 60
                    }	
                }
            }
		}
	}
    
    interaction = {
		name = "MUSTER_NCR_RANGERS"
		icon = 12
		
		years_between_use = 5
        
        potential = {
            has_dlc = "Third Rome"
            tag = NCR
        }
        
		trigger = {
			estate_loyalty = {
				estate = estate_officers
				loyalty = 50
			}	
			estate_influence = {
				estate = estate_officers
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used MUSTER_NCR_RANGERS officers estate action" }
            custom_tooltip = RANGER_RECRUITMENT
            hidden_effect = {
                capital_scope = {
                    ROOT = {
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                    }
                }
            }
            
            add_estate_loyalty = {
				estate = estate_officers
				loyalty = -10
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {   
                factor = 0
                NOT = {
                    estate_loyalty = {
                        estate = estate_officers
                        loyalty = 60
                    }	
                }
            }
		}
	}
    
    interaction = {
		name = "MUSTER_VETERAN_LEGIONARIES"
		icon = 12
		
		years_between_use = 5
        
        potential = {
            has_dlc = "Third Rome"
            tag = CAE
        }
        
		trigger = {
			estate_loyalty = {
				estate = estate_officers
				loyalty = 50
			}	
			estate_influence = {
				estate = estate_officers
				influence = 25
			}
		}
		
		effect = {
            if = { limit = { has_global_flag = enable_common_logging } log = "[Root.GetName] used MUSTER_VETERAN_LEGIONARIES officers estate action" }
            custom_tooltip = VETERAN_LEGIONARIES_RECRUITMENT
            hidden_effect = {
                capital_scope = {
                    ROOT = {
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                        streltsy_infantry = PREV
                    }
                }
            }
            
            add_estate_loyalty = {
				estate = estate_officers
				loyalty = -10
			}
		}
		
		ai_will_do = {
			factor = 1
            
            modifier = {   
                factor = 0
                NOT = {
                    estate_loyalty = {
                        estate = estate_officers
                        loyalty = 60
                    }	
                }
            }
		}
	}
}