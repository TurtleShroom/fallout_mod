# Institutions
# Each one symbolises the nation "learning" of the institution, not that it has occured

# Bottlecaps
bottlecaps = {
	penalty = 0

	bonus = {
		advisor_pool = 1
        max_states = 5
	}
	history = {
        owner = {
            OR = {
                technology_group = tech_wastelander
                technology_group = tech_robot
                technology_group = tech_ghoul
                technology_group = tech_bos
                technology_group = tech_commonwealth
                technology_group = tech_new_vegas
                technology_group = tech_ncr
                technology_group = tech_caesars_legion
                technology_group = tech_enclave
                technology_group = tech_shi
                technology_group = tech_alien
                technology_group = tech_vault_dweller
                technology_group = tech_the_kings
                technology_group = tech_triggermen
                technology_group = tech_children_of_the_atom
                technology_group = tech_hubologist
            }
        }
	}
    
	can_embrace = {
		always = yes
	}

	embracement_speed = {
        # --------- Base
        modifier = {
			factor = 0.1
			scale = yes
            
            potential = {
                any_friendly_coast_border_province = {
                    bottlecaps = 100
                }
            }
            
            custom_trigger_tooltip = {
				tooltip = tt_base_bottlecaps
                any_friendly_coast_border_province = {
                    bottlecaps = 100
                }
            }
		}
        
        # --------- Within Country
        modifier = {
			factor = 1
			potential = {
				owner = {
					any_owned_province = {
                        bottlecaps = 100
                    }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_presence_bottlecaps
				owner = {
					any_owned_province = {
                        bottlecaps = 100
                    }
				}
			}
		}
        
        # --------- Embraced
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = bottlecaps
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_embraced_bottlecaps
				owner = {
					has_institution = bottlecaps
				}
			}
		}
	}
	
	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

# RobCo Industries
robco = {
	penalty = 0
	
	bonus = {
		state_maintenance_modifier = -0.15
        global_trade_goods_size_modifier = 0.15
	}
    
    history = {
        owner = {
            OR = {
                technology_group = tech_robot
                technology_group = tech_bos
                technology_group = tech_commonwealth
                technology_group = tech_new_vegas
                technology_group = tech_ncr
                technology_group = tech_enclave
                technology_group = tech_shi
                technology_group = tech_alien
                technology_group = tech_vault_dweller
            }
        }
	}
    
	can_embrace = {
		owner = { has_institution = bottlecaps }
	}
	
    embracement_speed = {
        # --------- Base
        modifier = {
			factor = 0.1
			scale = yes
            
            potential = {
                any_friendly_coast_border_province = {
                    robco = 100
                }
            }
            
            custom_trigger_tooltip = {
				tooltip = tt_base_robco
                any_friendly_coast_border_province = {
                    robco = 100
                }
            }
		}
        
        # --------- Within Country
        modifier = {
			factor = 1
			potential = {
				owner = {
					any_owned_province = {
                        robco = 100
                    }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_presence_robco
				owner = {
					any_owned_province = {
                        robco = 100
                    }
				}
			}
		}
        
        # --------- Embraced
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = robco
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_embraced_robco
				owner = {
					has_institution = robco
				}
			}
		}
	}
    
	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

# REPCONN Aerospace
repconn = {
	penalty = 0

	bonus = {
		reinforce_cost_modifier = -0.1
        movement_speed = 0.1
	}

    history = {
        owner = {
            OR = {
                technology_group = tech_robot
                technology_group = tech_bos
                technology_group = tech_commonwealth
                technology_group = tech_new_vegas
                technology_group = tech_ncr
                technology_group = tech_enclave
                technology_group = tech_shi
                technology_group = tech_alien
                technology_group = tech_vault_dweller
            }
        }
	}

	can_embrace = {
		owner = { has_institution = robco }
	}
	
    embracement_speed = {
        # --------- Base
        modifier = {
			factor = 0.1
			scale = yes
            
            potential = {
                any_friendly_coast_border_province = {
                    repconn = 100
                }
            }
            
            custom_trigger_tooltip = {
				tooltip = tt_base_repconn
                any_friendly_coast_border_province = {
                    repconn = 100
                }
            }
		}
        
        # --------- Within Country
        modifier = {
			factor = 1
			potential = {
				owner = {
					any_owned_province = {
                        repconn = 100
                    }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_presence_repconn
				owner = {
					any_owned_province = {
                        repconn = 100
                    }
				}
			}
		}
        
        # --------- Embraced
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = repconn
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_embraced_repconn
				owner = {
					has_institution = repconn
				}
			}
		}
	}
    
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income, and higher if loans are needed. (Or it has a more than long term goal...)
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

# Forced Evolutionary Virus
fev = {
	penalty = 0

	bonus = {
        shock_damage = 0.25
        siege_ability = 0.1
	}
    
	history = {
        owner = {
            OR = {
                technology_group = tech_super_mutant
                technology_group = tech_commonwealth
                technology_group = tech_enclave
            }
        }
	}

	can_embrace = {
        owner = { has_institution = repconn }
	}
	
	embracement_speed = {
        # --------- Base
        modifier = {
			factor = 0.1
			scale = yes
            
            potential = {
                any_friendly_coast_border_province = {
                    fev = 100
                }
            }
            
            custom_trigger_tooltip = {
				tooltip = tt_base_fev
                any_friendly_coast_border_province = {
                    fev = 100
                }
            }
		}
        
        # --------- Within Country
        modifier = {
			factor = 1
			potential = {
				owner = {
					any_owned_province = {
                        fev = 100
                    }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_presence_fev
				owner = {
					any_owned_province = {
                        fev = 100
                    }
				}
			}
		}
        
        # --------- Embraced
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = fev
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_embraced_fev
				owner = {
					has_institution = fev
				}
			}
		}
	}
    
	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

# Power Armor
power_armor = {
	penalty = 0
	
	bonus = {
		infantry_power = 0.1
        army_tradition_decay = -0.01
	}
	
	history = {
		owner = {
            OR = {
                technology_group = tech_bos
                technology_group = tech_shi
                technology_group = tech_commonwealth
                technology_group = tech_enclave
            }
        }
	}
	
	can_embrace = {
        owner = { has_institution = fev }
	}
	
    embracement_speed = {
        # --------- Base
        modifier = {
			factor = 0.1
			scale = yes
            
            potential = {
                any_friendly_coast_border_province = {
                    power_armor = 100
                }
            }
            
            custom_trigger_tooltip = {
				tooltip = tt_base_power_armor
                any_friendly_coast_border_province = {
                    power_armor = 100
                }
            }
		}
        
        # --------- Within Country
        modifier = {
			factor = 1
			potential = {
				owner = {
					any_owned_province = {
                        power_armor = 100
                    }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_presence_power_armor
				owner = {
					any_owned_province = {
                        power_armor = 100
                    }
				}
			}
		}
        
        # --------- Embraced
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = power_armor
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_embraced_power_armor
				owner = {
					has_institution = power_armor
				}
			}
		}
	}
    
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income, and higher if loans are needed. (Or it has a more than long term goal...)
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

# Vault-Tec Industries
vault_tec = {
	penalty = 0
    
	bonus = {
		stability_cost_modifier = -0.15
        production_efficiency = 0.1
	}
	
	history = {
		owner = {
            OR = {
                technology_group = tech_commonwealth
                technology_group = tech_enclave
                technology_group = tech_vault_dweller
            }
        }
	}

	can_embrace = {
        owner = { has_institution = power_armor }
	}
	
    embracement_speed = {
        # --------- Base
        modifier = {
			factor = 0.1
			scale = yes
            
            potential = {
                any_friendly_coast_border_province = {
                    vault_tec = 100
                }
            }
            
            custom_trigger_tooltip = {
				tooltip = tt_base_vault_tec
                any_friendly_coast_border_province = {
                    vault_tec = 100
                }
            }
		}
        
        # --------- Within Country
        modifier = {
			factor = 1
			potential = {
				owner = {
					any_owned_province = {
                        vault_tec = 100
                    }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_presence_vault_tec
				owner = {
					any_owned_province = {
                        vault_tec = 100
                    }
				}
			}
		}
        
        # --------- Embraced
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = vault_tec
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_embraced_vault_tec
				owner = {
					has_institution = vault_tec
				}
			}
		}
	}
    
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income, and higher if loans are needed. (Or it has a more than long term goal...)
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

# G.E.C.K
geck = {
	penalty = 0

	bonus = {
		development_cost = -0.25
        technology_cost = -0.25
	}

	history = {
		owner = {
            OR = {
                technology_group = tech_commonwealth
                technology_group = tech_enclave
            }
        }
	}
	
	can_embrace = {
		owner = { 
            has_institution = vault_tec
        }
	}
	
    embracement_speed = {
        # --------- Base
        modifier = {
			factor = 0.1
			scale = yes
            
            potential = {
                any_friendly_coast_border_province = {
                    geck = 100
                }
            }
            
            custom_trigger_tooltip = {
				tooltip = tt_base_geck
                any_friendly_coast_border_province = {
                    geck = 100
                }
            }
		}
        
        # --------- Within Country
        modifier = {
			factor = 1
			potential = {
				owner = {
					any_owned_province = {
                        geck = 100
                    }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_presence_geck
				owner = {
					any_owned_province = {
                        geck = 100
                    }
				}
			}
		}
        
        # --------- Embraced
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = geck
				}
			}
			custom_trigger_tooltip = {
				tooltip = tt_embraced_geck
				owner = {
					has_institution = geck
				}
			}
		}
	}
    
	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}